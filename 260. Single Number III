#include <iostream>
#include <vector>
#include <map>
#include <algorithm>
#include<numeric>
#include<string>
using namespace std;

//思路：可以参考剑指offer的第40题。假设不同的数字是a b 那么a b肯定至少有1位是不同的。我们假设第n位不同。那么根据第n位是0还是1
//可以把整个数组分为两组。每组内都有一个只出现一次的数字。
//那些重复出现两次的数字c1 c2肯定都被分到一组内。这样对每组内部就可以用异或的方法得到这个特殊的数字
int GetMask(int a) {//找到a中最低位的1的位置
	int i = 0;
	while (a) {
		if ((a & 1) == 1)
			break;
		else {
			a=a >> 1;
			i++;
		}
	}
	int mask = 1;//最低位的1在第i位，现在我们要制作mask 就是只有第i位为1 其他位全为0  例如00001000000
	mask = (mask << i);
	cout << mask << endl;
	return mask;
}
vector<int> singleNumber(vector<int>& nums) {
	int AorB=0;
	int a = 0;
	int b = 0;
	vector<int>res;
	for (auto i : nums)
		AorB ^= i;//最终的结果其实就是a^b,最低位1就是a b最低的不相同位
	//int mask = AorB &(~(Aor-1));//用这种方法也可以，但是我不太明白
	//http://blog.csdn.net/kangrydotnet/article/details/47727541
	//http://blog.csdn.net/lcj_cjfykx/article/details/48531073
	int mask = GetMask(AorB);
	for (int i = 0; i<nums.size(); i++) {
		if (mask&nums[i])//因为mask只要1位为1 其他全是0 
			a ^= nums[i];
		else
			b ^= nums[i];
		}
	res.push_back(a);
	res.push_back(b);
	return res;
}

void main() {
	vector<int>a = { 83228806,-1717526682,1077617512,-1123081094,-580087697,
		-2008159651,-1328945687,-1724025951,1906414438,-1328945687,127027955,1599231006,
		-1015245959,1525771031,-1724025951,504069278,-421951591,1128109329,-1636948698,-1710739995,
		-990200330,-1885581982,1525771031,1261935573,-990200330,1585876929,278121904,-1348447747,1333211252,
		-1636948698,1128109329,1576801976,683467816,-1015245959,-1054654622,-196197385,1077617512,2047508274,
		-290544887,-705154692,504069278,-681249779,-520018417,1899454519,1333211252,1760011772,-1854431609,
		-421951591,46833585,1661877883,115910757,-1348447747,1261935573,-1854431609,-1710739995,1460311824,
		1585876929,766747336,1906414438,732062541,-1040314207,-1040314207,1576801976,2047508274,356648328
		,1899454519,908059332,1105519108,-722029362,1382440358,-1050023251,1661877883,-1122489884,-249225705,
		278121904,-1388723410,1727624697,127027955,-1122489884,-1050023251,1382440358,738046429,83228806,-249225705,
		82371534,-1717526682,-1885581982,-705154692,-722029362,-1054654622,1760011772,-1123081094,-2008159651,
		766747336,-580087697,46833585,115910757,1033398425,683467816,-681249779,908059332,-1388723410,1105519108,
		356648328,-520018417,-290544887,1599231006,738046429,82371534,732062541,1460311824,-196197385 };
	vector<int>b;
	b = singleNumber(a);
}
